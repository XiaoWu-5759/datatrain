



# 数据的存取和函数

### CSV文件的数据读取

CSV文件用来存储批量数据

#### numpy存储CSV文件

![sp190612_140824](.\images\sp190612_140824.png)

`np.savetxt('a.csv',a,fmt='%.1f',delimiter=',')`

#### numpy读取CSV文件

![sp190612_141122](.\images\sp190612_141122.png)

`b = np.loadtxt('a.csv',dtype=np.int,delimiter=',')`

#### CSV文件的局限性

CSV只能有效存储一维和二维数组



### 多维数据的存取

任意维度数据如何存取呢？

#### numpy存储多维数据

![sp190612_160810](.\images\sp190612_160810.png)

`a.tofile("b.dat",sep=","，format='%d')`

不包含任何维度信息

`a.tofile("b.dat",format='%d')`

生成的是二进制文件,二进制文件占用更小的空间



#### numpy读取多维数据
![sp190612_161040](.\images\sp190612_161040.png)

没有sep的，读出来的时候也不要sep，需要指定数据类型，默认也是浮点型

`c = np.formfile("b.dat",dtype=np.int,seq=",").reshape(5,10,2)`

读出的时候，维度信息会丢失，所以我们要事先知道维度信息。

> 需要注意
>
> 该方法需要读取时知道存入文件时数组的维度和元素类型
>
> `a.tofile()`和`np.fromfile()`需要配合使用可以通过元数据文件来存储额外信息。



### numpy的便捷文件存取

![sp190612_162139](.\images\sp190612_162139.png)

这样直接存储的就是二进制文件，但是它包含元数据，即维度信息。



### numpy的随机函数

#### numpy的random子库

np.random.*

最基本的四种d0,d1,...dn 这是维度信息

均匀分布即，每个数字的概率是相同的

![sp190612_162553](.\images\sp190612_162553.png)

> `np.random.seed(10)` 种子设置一样，之后的随机数就是一样的，可以用于测试

![sp190612_163106](.\images\sp190612_163106.png)

> replace 默认应该是true，可以选取重复的

`np.random.choice(b,(3,2),replace=False)`



#### numpy可以生成具有分布的随机数

![sp190612_163454](.\images\sp190612_163454.png)



### numpy的统计函数

numpy直接提供的统计函数

np.*

![sp190612_163935](.\images\sp190612_163935.png)

axis是轴，默认是对全面元素，也可以选择对特定维度的计算，从0开始

轴（axis）:保存数据的维度
秩（rank）：轴的数量

![sp190612_164612](.\images\sp190612_164612.png)

> argmin 可以获取最小值的位置，但是是扁平成一维数组的位置

> median(a) 是一种运算，结果是浮点数



### numpy的梯度函数

![sp190612_165042](.\images\sp190612_165042.png)

梯度： 连续值之间的变化率，即斜率

XY坐标轴联系三个X坐标对应的Y轴值：a,b,c，其中，b的梯度是：（c-a）/2

![sp190612_165240](.\images\sp190612_165240.png)

n维数组中的元素，具有多个个方向的梯度。

> 梯度反映了 数据的变化率

> 在图像处理和声音处理上有很大用处。



梯度？？？